{"version":3,"names":["buildIOS","_","ctx","args","xcodeProject","sourceDir","getXcodeProjectAndDir","project","ios","resolvePods","root","dependencies","forceInstall","forcePods","process","chdir","scheme","mode","getConfiguration","buildProject","undefined","name","description","func","examples","desc","cmd","options","buildOptions"],"sources":["../../../src/commands/buildIOS/index.ts"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport {Config} from '@react-native-community/cli-types';\nimport {buildProject} from './buildProject';\nimport {BuildFlags, buildOptions} from './buildOptions';\nimport {getConfiguration} from './getConfiguration';\nimport {getXcodeProjectAndDir} from './getXcodeProjectAndDir';\nimport resolvePods from '../../tools/pods';\n\nasync function buildIOS(_: Array<string>, ctx: Config, args: BuildFlags) {\n  const {xcodeProject, sourceDir} = getXcodeProjectAndDir(ctx.project.ios);\n\n  // check if pods need to be installed\n  await resolvePods(ctx.root, ctx.dependencies, {forceInstall: args.forcePods});\n\n  process.chdir(sourceDir);\n\n  const {scheme, mode} = await getConfiguration(xcodeProject, sourceDir, args);\n\n  return buildProject(xcodeProject, undefined, mode, scheme, args);\n}\n\nexport default {\n  name: 'build-ios',\n  description: 'builds your app for iOS platform',\n  func: buildIOS,\n  examples: [\n    {\n      desc: 'Build the app for all iOS devices in Release mode',\n      cmd: 'npx react-native build-ios --mode \"Release\"',\n    },\n  ],\n  options: buildOptions,\n};\n"],"mappings":";;;;;;AASA;AACA;AACA;AACA;AACA;AAA2C;AAb3C;AACA;AACA;AACA;AACA;AACA;AACA;;AASA,eAAeA,QAAQ,CAACC,CAAgB,EAAEC,GAAW,EAAEC,IAAgB,EAAE;EACvE,MAAM;IAACC,YAAY;IAAEC;EAAS,CAAC,GAAG,IAAAC,4CAAqB,EAACJ,GAAG,CAACK,OAAO,CAACC,GAAG,CAAC;;EAExE;EACA,MAAM,IAAAC,aAAW,EAACP,GAAG,CAACQ,IAAI,EAAER,GAAG,CAACS,YAAY,EAAE;IAACC,YAAY,EAAET,IAAI,CAACU;EAAS,CAAC,CAAC;EAE7EC,OAAO,CAACC,KAAK,CAACV,SAAS,CAAC;EAExB,MAAM;IAACW,MAAM;IAAEC;EAAI,CAAC,GAAG,MAAM,IAAAC,kCAAgB,EAACd,YAAY,EAAEC,SAAS,EAAEF,IAAI,CAAC;EAE5E,OAAO,IAAAgB,0BAAY,EAACf,YAAY,EAAEgB,SAAS,EAAEH,IAAI,EAAED,MAAM,EAAEb,IAAI,CAAC;AAClE;AAAC,eAEc;EACbkB,IAAI,EAAE,WAAW;EACjBC,WAAW,EAAE,kCAAkC;EAC/CC,IAAI,EAAEvB,QAAQ;EACdwB,QAAQ,EAAE,CACR;IACEC,IAAI,EAAE,mDAAmD;IACzDC,GAAG,EAAE;EACP,CAAC,CACF;EACDC,OAAO,EAAEC;AACX,CAAC;AAAA"}