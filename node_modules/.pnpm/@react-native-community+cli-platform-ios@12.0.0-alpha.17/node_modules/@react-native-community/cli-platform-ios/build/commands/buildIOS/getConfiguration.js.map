{"version":3,"names":["getConfiguration","xcodeProject","sourceDir","args","projectInfo","getProjectInfo","mode","checkIfConfigurationExists","scheme","schemes","getBuildConfigurationFromXcScheme","interactive","selection","selectFromInteractiveMode","logger","info","isWorkspace","chalk","bold","name"],"sources":["../../../src/commands/buildIOS/getConfiguration.ts"],"sourcesContent":["import chalk from 'chalk';\nimport {IOSProjectInfo} from '@react-native-community/cli-types';\nimport {logger} from '@react-native-community/cli-tools';\nimport {selectFromInteractiveMode} from '../../tools/selectFromInteractiveMode';\nimport {getProjectInfo} from '../../tools/getProjectInfo';\nimport {checkIfConfigurationExists} from '../../tools/checkIfConfigurationExists';\nimport type {BuildFlags} from './buildOptions';\nimport {getBuildConfigurationFromXcScheme} from '../../tools/getBuildConfigurationFromXcScheme';\n\nexport async function getConfiguration(\n  xcodeProject: IOSProjectInfo,\n  sourceDir: string,\n  args: BuildFlags,\n) {\n  const projectInfo = getProjectInfo();\n\n  if (args.mode) {\n    checkIfConfigurationExists(projectInfo, args.mode);\n  }\n\n  let scheme = args.scheme || projectInfo.schemes[0];\n  let mode =\n    args.mode ||\n    getBuildConfigurationFromXcScheme(scheme, 'Debug', sourceDir, projectInfo);\n\n  if (args.interactive) {\n    const selection = await selectFromInteractiveMode({\n      scheme,\n      mode,\n      projectInfo,\n    });\n\n    if (selection.scheme) {\n      scheme = selection.scheme;\n    }\n\n    if (selection.mode) {\n      mode = selection.mode;\n    }\n  }\n\n  logger.info(\n    `Found Xcode ${\n      xcodeProject.isWorkspace ? 'workspace' : 'project'\n    } \"${chalk.bold(xcodeProject.name)}\"`,\n  );\n\n  return {scheme, mode};\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;AACA;AACA;AAEA;AAAgG;AAEzF,eAAeA,gBAAgB,CACpCC,YAA4B,EAC5BC,SAAiB,EACjBC,IAAgB,EAChB;EACA,MAAMC,WAAW,GAAG,IAAAC,8BAAc,GAAE;EAEpC,IAAIF,IAAI,CAACG,IAAI,EAAE;IACb,IAAAC,sDAA0B,EAACH,WAAW,EAAED,IAAI,CAACG,IAAI,CAAC;EACpD;EAEA,IAAIE,MAAM,GAAGL,IAAI,CAACK,MAAM,IAAIJ,WAAW,CAACK,OAAO,CAAC,CAAC,CAAC;EAClD,IAAIH,IAAI,GACNH,IAAI,CAACG,IAAI,IACT,IAAAI,oEAAiC,EAACF,MAAM,EAAE,OAAO,EAAEN,SAAS,EAAEE,WAAW,CAAC;EAE5E,IAAID,IAAI,CAACQ,WAAW,EAAE;IACpB,MAAMC,SAAS,GAAG,MAAM,IAAAC,oDAAyB,EAAC;MAChDL,MAAM;MACNF,IAAI;MACJF;IACF,CAAC,CAAC;IAEF,IAAIQ,SAAS,CAACJ,MAAM,EAAE;MACpBA,MAAM,GAAGI,SAAS,CAACJ,MAAM;IAC3B;IAEA,IAAII,SAAS,CAACN,IAAI,EAAE;MAClBA,IAAI,GAAGM,SAAS,CAACN,IAAI;IACvB;EACF;EAEAQ,kBAAM,CAACC,IAAI,CACR,eACCd,YAAY,CAACe,WAAW,GAAG,WAAW,GAAG,SAC1C,KAAIC,gBAAK,CAACC,IAAI,CAACjB,YAAY,CAACkB,IAAI,CAAE,GAAE,CACtC;EAED,OAAO;IAACX,MAAM;IAAEF;EAAI,CAAC;AACvB"}